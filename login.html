<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Controle de Congressos</title>
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body class="d-flex justify-center align-center" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
    <div class="container text-center" style="max-width: 450px;">
        <div class="logo-professional">
            <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" stroke="#007bff" stroke-width="2"/>
                <polyline points="10,17 15,12 10,7" stroke="#007bff" stroke-width="2"/>
                <line x1="15" y1="12" x2="3" y2="12" stroke="#007bff" stroke-width="2"/>
            </svg>
        </div>
        <h1>Login da Congrega√ß√£o</h1>

        <div class="info-box">
            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="#1565c0" stroke-width="2"/>
                    <circle cx="12" cy="16" r="1" fill="#1565c0"/>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4" stroke="#1565c0" stroke-width="2"/>
                </svg>
                <strong>Acesso Seguro</strong>
            </div>
            Use as credenciais da sua congrega√ß√£o para acessar o sistema de controle de passageiros.
        </div>

        <div id="message-area"></div>
        
        <form id="login-form">
            <div class="form-group text-left">
                <label for="email">Email da Congrega√ß√£o:</label>
                <input type="email" id="email" name="email" required>
            </div>
            
            <div class="form-group text-left">
                <label for="password">Senha:</label>
                <input type="password" id="password" name="password" required>
            </div>
            
            <button type="submit" class="btn btn-primary" id="login-btn">Entrar</button>
            <div class="loading" id="loading"></div>
        </form>
        
        <div class="text-center" style="margin-top: 1rem;">
            <p><a href="#" id="forgot-password-link" class="link-btn">Esqueci minha senha</a></p>
            <p><a href="register.html" class="link-btn">N√£o tem conta? Cadastre sua congrega√ß√£o</a></p>
        </div>
    </div>

    <!-- Modal Esqueci Senha -->
    <div id="forgot-password-modal" class="modal-overlay" style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    ">
        <div class="modal-content" style="background: white; padding: 2rem; border-radius: 8px; max-width: 400px; width: 90%;">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="#007bff" stroke-width="2"/>
                    <polyline points="22,6 12,13 2,6" stroke="#007bff" stroke-width="2"/>
                </svg>
                <h3>Recuperar Senha</h3>
            </div>

            <p>Entre em contato com o administrador do sistema para redefinir sua senha:</p>

            <div class="info-box" style="text-align: left; margin: 1rem 0;">
                <strong>üìß Email:</strong> suporte@sistemacongressos.com<br>
                <strong>üì± WhatsApp:</strong> (11) 99999-9999<br><br>
                <strong>Informe:</strong><br>
                ‚Ä¢ Nome da sua congrega√ß√£o<br>
                ‚Ä¢ Email de cadastro<br>
                ‚Ä¢ Motivo da solicita√ß√£o
            </div>

            <button id="close-forgot-modal" class="btn btn-secondary" style="width: 100%;">Fechar</button>
        </div>
    </div>

    <script src="assets/js/session.js"></script>
    <script src="assets/js/login.js"></script>

    <script>
        // Funcionalidade do modal "Esqueci minha senha"
        document.addEventListener('DOMContentLoaded', () => {
            const forgotLink = document.getElementById('forgot-password-link');
            const forgotModal = document.getElementById('forgot-password-modal');
            const closeModal = document.getElementById('close-forgot-modal');

            if (forgotLink && forgotModal && closeModal) {
                forgotLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    forgotModal.style.display = 'flex';
                });

                closeModal.addEventListener('click', () => {
                    forgotModal.style.display = 'none';
                });

                // Fechar ao clicar fora
                forgotModal.addEventListener('click', (e) => {
                    if (e.target === forgotModal) {
                        forgotModal.style.display = 'none';
                    }
                });
            }
        });
    </script>
</body>
</html>